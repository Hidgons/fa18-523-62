# Predicting EPL match results using tweets and team statistics


| Authors : **Sohan Rai, Manek Bahl**

## Data:
* Tweets extracted are stored in the local instance of a MongoDB database.
We have used the collection named 'twitter_search' in the database 'twitterdb'.
Each document in the collection has 7 attributes as created by a python code - 
id - tweetid of the tweet (Assigned to the tweet by the twitter website to uniquely identify the tweet). 
username - twitter username of the person who created the tweet. 
hashtags - hashtags associated with the tweet.
created - The date when the tweet was posted.
dateid -  Numeric form of the date in the format yyyymmdd
* consolidated_tweets.csv â€“ This data file is generated by extracting the above mentioned tweets data from the MongoDB database using a python code.
This file serves as one of the input files for the main python code 'mainCode.py'.
*  soccerData.csv - This file contains data regarding the statistics of the matches of the current season of the English Premier league until Gameweek 13. This serves as another input file for the main python code 'mainCode.py'. The data read from this file undergoes processing to generate the train and test dataset.


## Requirements: 

The following are the requirements for this project.
  1.	Python 3
  2.	Python libraries - Pandas, TextBlob, Sklearn, xgboost
  3.    Mongodb on the local machine with a database named 'twitterdb' installed

## Installation:

Install the above mentioned Python libraries using the pip command on the command as follows:

pip install Pandas

pip install TextBlob

pip install Sklearn

pip install xgboost 

### Data Setup:

Since the total number of tweets collected for 20 teams over 13 weeks is nearly ~ 150000, the tweet extraction process takes around 7 hours and hence cannot be made part of the demo. Also, as the MongoDB database instance used to store the collected tweets is a local one, we have extracted it into the file 'consolidated_tweets.csv' which serves as the input for our main program which performs sentiment analysis on the tweets and uses it along with other cumulative stats as predictors for the training the machine learning algorithms. 

NOTE:
Although the extraction of tweets into the database is not part of the demo, we have included the code to do it in the file 'twitterToMongo.py'.
If wants to run the project from end to end (Extraction of tweets, storing in the database, and the subsequent prediction algorithm), it would take about 7 hours to complete the process and 

1.	Clone our project repository from GitHub using the following command into a directory

```bash
$ git clone https://github.com/cloudmesh-community/fa18-523-62.git
```

2. Run the **mainCode.py** file. The code will read the two data files 'consolidated_tweets.csv' and 'soccerData.csv', perform sentiment analysis, create the test and train set, print the prediction for the matches of Gameweek 13 and the accuracy of the prediction using Random forest, XGboost and Logistic regression.
